<app-header></app-header><br>

<div class="container-fluid" *ngIf="roleUser == 'evaluador'">

    <!-- <div class="row">
    <div class="col  text-left">
        <h2>Registro de evaluadores</h2>
    </div>
    <div class="col text-right">
        <button class="btn btn-danger" routerLink="/evaluadores"><i class="fa fa-arrow-left"></i>Regresar</button>
    </div>
    </div> -->
    
    <div class="row">

        <div class="col-6 text-left">
            <h3 class="">
                <strong>{{ proyecto.codigo }}</strong>
            </h3>
        
        </div>

        <div class="col-6 text-right">
            <button class="btn btn-danger" routerLink="/calificaciones">
                <i class="fa fa-arrow-left"></i>
                 Regresar
            </button>
        </div>

        <div class="col-12 text-center">
                
            <h4 class=""><strong>{{ proyecto.titulo }}</strong></h4>

        </div>

    </div>

    <div class="row animated fadeIn faster">
        <div class="col">
            <!-- se llama al metodo guardar de proyecto.componet.ts -->
              <hr>
            <form (ngSubmit)="guardar( f )" #f="ngForm">

                <div class="text-left">
                    <h4 class="text-center"><strong>Criterios de evaluación</strong></h4>

                    <!-- EVALUADOR 1 -->
                    <!-- <div *ngIf="proyecto.evaluador1.estado == true" class="text-center font-weight-bold">
                        <p>Evaluador {{ proyecto.evaluador1.nombre}}</p>
                    </div> -->
                    <hr>
                    <!-- 
                    SE OCULTARA LA ETIQUETA HTML 
                    SI EL EVALUADOR LOGEADO NO COINCIDE 
                    CON EL EVALUADOR CORRESPONDIENTE AL PROYECTO
                    -->

                    <div *ngFor="let criterio of proyecto.evaluador1.criterios">
                        <div *ngIf="proyecto.evaluador1.estado == true" class="row form group">

                            <div class="col-10 col-sm-9">
                                <label [(ngModel)]="proyecto.criterio" name="criterios" required>
                                    <strong>{{ criterio.descripcion }} {{criterio.puntajeAsignado}}</strong>
                                </label>
                            </div>

                            <div class="col-2 col-sm-3 text-right">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio" 
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_0{{criterio.id}}"
                                        value=0
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        (click)="removerObjeto(criterio)"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_0{{criterio.id}}"><strong>0</strong></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_1{{criterio.id}}"
                                        value=1
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        (click)="removerObjeto(criterio)"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_1{{criterio.id}}"><strong>1</strong></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_2{{criterio.id}}" 
                                        value=2
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        (click)="removerObjeto(criterio)"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_2{{criterio.id}}"><strong>2</strong></label>
                                </div>
                            </div>
                        </div>
                        <hr *ngIf="proyecto.evaluador1.estado == true">
                    </div>

                    <!-- EVALUADOR 2 -->
                    <!-- <div *ngIf="proyecto.evaluador1.estado == false" class="text-center font-weight-bold">
                        <p>Evaluador {{ proyecto.evaluador2.nombre}}</p>
                    </div> -->
                    <!-- <hr> -->
                    <!--SE OCULTARA LA ETIQUETA HTML 
                    SI EL EVALUADOR LOGEADO NO COINCIDE 
                    CON EL EVALUADOR CORRESPONDIENTE AL PROYECTO -->
                    <!-- <div *ngFor="let criterio of proyecto.evaluador2.criterios">
                        <div *ngIf="proyecto.evaluador1.estado == false" class="form group">
                            <label [(ngModel)]="proyecto.criterio" name="criterios" required>
                                {{ criterio.descripcion }}{{criterio.puntajeAsignado}}
                            </label>
                            <div class="text-right">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_0{{criterio.id}}"
                                        value=0 
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                        
                                    <label class="form-check-label" for="radio_0{{criterio.id}}">0</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_1{{criterio.id}}"
                                        value=1
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_1{{criterio.id}}">1</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_2{{criterio.id}}"
                                        value=2
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_2{{criterio.id}}">2</label>
                                </div>
                            </div>
                        </div>
                        <hr *ngIf="proyecto.evaluador1.estado == false">
                    </div> -->


                    <!-- EVALUADOR 3 -->
                    <!-- <div class="text-center font-weight-bold">
                        <p>Evaluador {{ proyecto.evaluador3.nombre}}</p>
                    </div>
                    <hr> -->
                    <!-- 
                    SE OCULTARA LA ETIQUETA HTML 
                    SI EL EVALUADOR LOGEADO NO COINCIDE 
                    CON EL EVALUADOR CORRESPONDIENTE AL PROYECTO 
                    -->
                    <!-- <div *ngFor="let criterio of proyecto.evaluador3.criterios">
                        <div class="form group">
                            <label [(ngModel)]="proyecto.criterio" name="criterios" required>{{ criterio.descripcion }}{{criterio.puntajeAsignado}}</label>
                            <div class="text-right">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_0{{criterio.id}}"
                                        value=0
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_0{{criterio.id}}">0</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_1{{criterio.id}}"
                                        value=1
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_1{{criterio.id}}">1</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                        type="radio"
                                        name="inlineRadioOptions{{criterio.id}}"
                                        id="radio_2{{criterio.id}}"
                                        value=2
                                        (click)="removerObjeto(criterio)"
                                        [(ngModel)]="criterio.puntajeAsignado"
                                        style="cursor: pointer;">
                                    <label class="form-check-label" for="radio_2{{criterio.id}}">2</label>
                                </div>
                            </div>

                        </div>
                        <hr>
                    </div> -->
                    
                </div>

                <div class="row form-group text-center">

                    <div style="margin-top: 10px" class="col-6 col-sm-6">

                        <button class="btn btn-block btn-danger" routerLink="/calificaciones">
                            <i class="fa fa-arrow-left"></i>
                            Regresar
                        </button>
                    </div>

                    <div style="margin-top: 10px" class="col-6 col-sm-6">
                        <button *ngIf="proyecto.evaluador1.estado == true" (click)="subTotal1()" class="btn btn-block btn-primary" type="submit">
                        <i class="fa fa-save"></i>
                            Guardar
                        </button>
                    </div>

                    <!-- <div style="margin-top: 10px" class="col-12 col-sm-4">
                        <button *ngIf="proyecto.evaluador1.estado == true" (click)="finalizarMasTarde()" class="btn btn-block btn-primary" type="submit">
                        <i class="fa fa-save"></i>
                            Finalizar más tarde
                        </button>
                    </div> -->

                    <!-- <button *ngIf="proyecto.evaluador1.estado == false" (click)="subTotal2()" class="btn btn-primary"type="submit" class="btn btn-primary w-25">
                        <i class="fa fa-save"></i>
                        Guardar
                    </button> -->
                    <!-- <button (click)="subTotal3()"class="btn btn-primary"type="submit" class="btn btn-primary w-25">
                        <i class="fa fa-save"></i>
                        Guardar
                    </button> -->
                </div>
            </form>

        </div>
    </div>
</div>

<div class="row alert alert-warning mt-3 animated fadeIn faster" *ngIf="roleUser == 'admin'">
    <div class="col-12 text-center">
        <h1>Usuario no autorizado!!</h1>
        <br>
    </div>
    <div class="col-12 text-center">
        <button routerLink="/inicio" class="btn btn-danger">
      <i class="fa fa-arrow-left"></i>
      Inicio
    </button>
    </div>
</div>